# ========================================
# BTC自动交易机器人配置文件
# ========================================

# =============================================================================
# 交易所配置 - 连接OKX交易所的核心参数
# =============================================================================
OKX_API_KEY=your_okx_api_key_here              # OKX API密钥 - 用于身份验证
OKX_SECRET=your_okx_secret_here                # OKX密钥 - 用于签名请求
OKX_PASSWORD=your_okx_password_here            # OKX交易密码 - 用于资金操作
OKX_SANDBOX=false                              # 沙盒模式 - true为测试环境，false为真实交易

# =============================================================================
# 交易配置 - 控制交易行为和风险参数
# =============================================================================
TEST_MODE=true                             # 测试模式 - true为模拟交易，false为真实交易
INVESTMENT_TYPE=conservative               # 投资类型 - conservative(稳健型)/moderate(中等型)/aggressive(激进型)
MAX_POSITION_SIZE=0.01                     # 最大持仓量 - 最多持有的BTC数量
MIN_TRADE_AMOUNT=0.001                     # 最小交易量 - 每次交易的最小BTC数量
LEVERAGE=10                                # 杠杆倍数 - 10倍杠杆（谨慎调整）
CYCLE_MINUTES=15                           # 交易周期 - 每15分钟执行一次交易检查
ALLOW_SHORT_SELLING=false                  # 允许做空 - true可开空仓，false只能做多

# =============================================================================
# AI 配置 - 人工智能信号生成相关设置
# =============================================================================
USE_MULTI_AI=false                         # 多AI模式 - true使用多个AI模型融合信号
KIMI_API_KEY=your_kimi_api_key             # Kimi API密钥 - 月之暗面AI模型
DEEPSEEK_API_KEY=your_deepseek_api_key     # DeepSeek API密钥 - 深度求索AI模型
OPENAI_API_KEY=your_openai_api_key         # OpenAI API密钥 - ChatGPT模型
AI_CACHE_DURATION=900                      # 缓存时长 - AI信号缓存15分钟（900秒）
AI_TIMEOUT=30                              # AI超时时间 - 等待AI回复最多30秒
AI_MAX_RETRIES=2                           # 最大重试次数 - AI调用失败最多重试2次
AI_MIN_CONFIDENCE=0.5                      # 最低信心阈值 - AI信心低于50%不执行交易


# =============================================================================
# 风险控制配置 - 管理整体风险暴露
# =============================================================================
MAX_DAILY_LOSS=100                         # 最大日亏损 - 每日最多亏损100 USDT
MAX_POSITION_RISK=0.05                     # 最大仓位风险 - 单笔交易风险不超过5%

# =============================================================================
# 系统配置 - 系统运行和监控相关设置
# =============================================================================
LOG_LEVEL=INFO                             # 日志级别 - DEBUG/INFO/WARNING/ERROR
WEB_ENABLED=false                          # Web界面开关 - true启用Streamlit监控界面
WEB_PORT=8501                              # Web端口 - Streamlit监控界面端口8501

# =============================================================================
# 横盘检测配置 - 横盘行情识别和处理参数
# =============================================================================
# 横盘识别阈值
CONSOLIDATION_THRESHOLD=0.008              # 横盘识别阈值 - 价格波动小于0.8%视为横盘
CONSOLIDATION_LOOKBACK=24                  # 回看周期数 - 24根K线（2小时）用于识别横盘
CONSOLIDATION_MAX_LOSS=-0.01               # 最大允许浮亏 - 浮亏超过-1%不触发横盘退出
CONSOLIDATION_PARTIAL_CLOSE=0.5            # 部分平仓比例 - 检测到横盘时平仓50%
CONSOLIDATION_FURTHER_CLOSE=0.25           # 持续减仓比例 - 横盘30分钟后再平仓25%
CONSOLIDATION_STOP_LOSS=0.008              # 移动止损比例 - 设置0.8%跟踪止损

# =============================================================================
# 高级配置 - 专业用户可调整
# =============================================================================

# 利润锁定策略
PROFIT_LOCK_MIN_PROFIT=0.01                # 最小盈利比例 - 盈利达到1%时开始监控
PROFIT_LOCK_DURATION=120                   # 横盘持续时间 - 120分钟（2小时）确认横盘
PROFIT_LOCK_MAX_PERIODS=8                  # 最大连续周期 - 横盘超过8个周期强制止盈
PROFIT_LOCK_BREAKOUT=0.012                 # 突破阈值 - 价格波动超过1.2%视为突破横盘

# 智能止盈止损
SMART_TP_SL_BASE_SL=0.02                   # 基础止损比例 - 默认2%止损
SMART_TP_SL_BASE_TP=0.06                   # 基础止盈比例 - 默认6%止盈
SMART_TP_SL_MAX_SL=0.05                    # 最大止损比例 - 止损不超过5%
SMART_TP_SL_MAX_TP=0.15                    # 最大止盈比例 - 止盈不超过15%

# 限价单配置
LIMIT_ORDER_ENABLED=true                   # 限价单开关 - true启用限价单
LIMIT_ORDER_TIMEOUT=30                     # 超时时间 - 限价单30秒未成交转为市价单

# 暴跌保护
CRASH_PROTECTION_ENABLED=true              # 暴跌保护开关 - true启用价格暴跌保护机制
CRASH_THRESHOLD_CRITICAL=0.05              # 暴跌阈值-严重 - 5%暴跌触发紧急保护
CRASH_THRESHOLD_HIGH=0.03                  # 暴跌阈值-高 - 3%暴跌触发高级保护
CRASH_THRESHOLD_MEDIUM=0.02                # 暴跌阈值-中 - 2%暴跌触发中级保护
CRASH_THRESHOLD_LOW=0.01                   # 暴跌阈值-低 - 1%暴跌触发低级保护

# =============================================================================
# 使用说明
# =============================================================================
# 1. 复制此文件为 .env
# 2. 替换所有 your_* 值为实际API密钥
# 3. 根据需求调整参数
# 4. 新手建议保持默认配置，先使用TEST_MODE=true进行模拟交易
# 5. 进阶用户可根据市场情况调整横盘和风险控制参数

# =============================================================================
# 安全提示
# =============================================================================
# - 首次使用请务必开启TEST_MODE=true进行模拟交易
# - 杠杆倍数请谨慎设置，建议从低杠杆开始
# - 每日亏损限制请根据资金情况合理设置
# - 定期备份配置文件和交易日志

